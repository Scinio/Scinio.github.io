<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mixed Media Reader</title>
    <style>
        body { background: #121212; color: #e0e0e0; font-family: 'Georgia', serif; margin: 0; padding: 0; }
        .container { 
            max-width: 800px; /* The master width for everything */
            margin: 0 auto; 
            padding: 40px 20px; 
            box-sizing: border-box;
        }
        .content-block { width: 100%; margin-bottom: 30px; }
        
        /* Forces images/videos to match container exactly */
        img, video { width: 100%; height: auto; display: block; }
        
        /* Justified text equal to image length */
        .text-block { 
            text-align: justify; 
            line-height: 1.6; 
            font-size: 1.1rem;
            word-spacing: -1px; /* Helps justification look tighter */
        }
    </style>
</head>
<body>
    <div class="container" id="main-content">
        </div>

    <script>
        async function loadContent() {
            const res = await fetch('assets/data.json');
            const data = await res.json();
            const container = document.getElementById('main-content');
            
            data.blocks.forEach(block => {
                const div = document.createElement('div');
                div.className = "content-block";
                
                if (block.type === 'image') {
                    div.innerHTML = `<img src="${block.value}">`;
                } else if (block.type === 'video') {
                    div.innerHTML = `<video controls><source src="${block.value}" type="video/mp4"></video>`;
                } else if (block.type === 'text') {
                    div.className += " text-block";
                    div.innerText = block.value;
                }
                
                container.appendChild(div);
            });
        }
        window.onload = loadContent;
    </script>
</body>
</html>